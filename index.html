<!DOCTYPE html>
<html lang="en" style="height: 100%">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yudex</title>
    <link rel="stylesheet" href="./src/leaflet.css" />
    <script src="./src/leaflet.js"></script>

    <style>
      body {
        filter: blur(0);
        opacity: 1;
        background-color: white;
      }
      .blureActive {
        filter: blur(5px);
      }

      .leaflet-control-zoom-in,
      .leaflet-control-zoom-out {
        font: 30px "Junicode-Regular";
        text-indent: 1px;
      }

      .leaflet-touch .leaflet-control-zoom-out {
        font-size: 26px;
        padding: 12px;
      }

      .leaflet-touch .leaflet-control-zoom-in {
        font-size: 26px;
        padding: 12px;
      }

      .leaflet-touch .leaflet-bar a:first-child {
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
      }

      .leaflet-touch .leaflet-bar a:last-child {
        border-bottom-left-radius: 10px;
        border-bottom-right-radius: 10px;
      }
      .leaflet-bar {
        box-shadow: 0 1px 5px rgb(0 0 0 / 65%), 0 0 20px 0px black;
        border-radius: 10px;
      }

      .leaflet-container {
        background-color: white;
      }
    </style>
  </head>
  <body style="height: 100%; margin: 0" class="blure blureActive">
    <div id="map" style="height: 100%; width: 100%; margin: 0"></div>
    <script>
      var mapEl = document.getElementById("map");
      var map = L.map("map");

      L.tileLayer("map/{z}/{x}/{y}.jpg", {
        maxZoom: 6,
        minZoom: 0,
        continuousWorld: false,
        controls: true,
        noWrap: true,
      }).addTo(map);

      map.setView(
        [Math.floor(Math.random() * -20) + 20, Math.random() * 20 + 30],
        5
      );

      window.addEventListener("DOMContentLoaded", function () {
        const move = (zoom) => {
          map.setView(
            [Math.floor(Math.random() * -20) + 20, Math.random() * 20 + 30],
            zoom
          );
        };

        setTimeout(() => {
          move(6);
        }, 600);

        setTimeout(() => {
          document.body.classList.remove("blureActive");
          move(6);
        }, 1200);

        setTimeout(() => {
          move(5);
        }, 1800);
      });
    </script>
  </body>
</html>
